<template>
  <div class="relative">
    <div ref="globeParticles" class="particles">
      <div class="particles-column particles-column--1">
        <svg
          class="particle particle--1 particle--top"
          xmlns="http://www.w3.org/2000/svg"
          width="68"
          height="18"
          viewBox="0 0 68 18"
        >
          <g fill="none" fill-rule="evenodd" opacity=".988">
            <path
              fill="#F56C89"
              d="M34.316 0H.632v17.274h33.684z"
              opacity=".198"
            ></path>
            <path
              fill="#6E95FA"
              d="M68 2.591H34.316v7.773H68z"
              opacity=".198"
            ></path>
            <path fill="#F56C89" d="M34.316 0H.632v2.591h33.684z"></path>
            <path fill="#6E95FA" d="M68 2.591H34.316v2.591H68z"></path>
          </g>
        </svg>
        <svg
          class="particle particle--2 particle--bottom"
          xmlns="http://www.w3.org/2000/svg"
          width="68"
          height="18"
          viewBox="0 0 68 18"
        >
          <g fill="none" fill-rule="evenodd" opacity=".988">
            <path
              fill="#6D94F8"
              d="M34.316.5H.632v17.274h33.684z"
              opacity=".198"
            ></path>
            <path
              fill="#6E95FA"
              d="M68 3.091H34.316v7.773H68z"
              opacity=".198"
            ></path>
            <path fill="#6D94F8" d="M34.316.5H.632v2.591h33.684z"></path>
            <path fill="#6E95FA" d="M68 3.091H34.316v2.591H68z"></path>
          </g>
        </svg>
      </div>
      <div class="particles-column particles-column--2">
        <svg
          class="particle particle--3 particle--top"
          xmlns="http://www.w3.org/2000/svg"
          width="68"
          height="18"
          viewBox="0 0 68 18"
        >
          <g fill="none" fill-rule="evenodd" opacity=".988">
            <path
              fill="#F56C89"
              d="M34.184 18h33.684V.726H34.184z"
              opacity=".198"
            ></path>
            <path
              fill="#6E95FA"
              d="M.5 15.409h33.684V7.636H.5z"
              opacity=".198"
            ></path>
            <path fill="#F56C89" d="M34.184 18h33.684v-2.591H34.184z"></path>
            <path fill="#6E95FA" d="M.5 15.409h33.684v-2.591H.5z"></path>
          </g>
        </svg>
        <svg
          class="particle particle--4 particle--bottom"
          xmlns="http://www.w3.org/2000/svg"
          width="68"
          height="18"
          viewBox="0 0 68 18"
        >
          <g fill="none" fill-rule="evenodd" opacity=".988">
            <path
              fill="#02DFEC"
              d="M33.816 18H.132V.726h33.684z"
              opacity=".198"
            ></path>
            <path
              fill="#6E95FA"
              d="M67.5 15.409H33.816V7.636H67.5z"
              opacity=".198"
            ></path>
            <path fill="#02DFEC" d="M33.816 18H.132v-2.591h33.684z"></path>
            <path fill="#6E95FA" d="M67.5 15.409H33.816v-2.591H67.5z"></path>
          </g>
        </svg>
      </div>
      <div class="particles-column particles-column--3">
        <svg
          class="particle particle--5 particle--top"
          xmlns="http://www.w3.org/2000/svg"
          width="68"
          height="18"
          viewBox="0 0 68 18"
        >
          <g fill="none" fill-rule="evenodd" opacity=".988">
            <path
              fill="#02DFEC"
              d="M33.816 18H.132V.726h33.684z"
              opacity=".198"
            ></path>
            <path
              fill="#6E95FA"
              d="M67.5 15.409H33.816V7.636H67.5z"
              opacity=".198"
            ></path>
            <path fill="#02DFEC" d="M33.816 18H.132v-2.591h33.684z"></path>
            <path fill="#6E95FA" d="M67.5 15.409H33.816v-2.591H67.5z"></path>
          </g>
        </svg>
        <svg
          class="particle particle--6 particle--bottom"
          xmlns="http://www.w3.org/2000/svg"
          width="68"
          height="18"
          viewBox="0 0 68 18"
        >
          <g fill="none" fill-rule="evenodd" opacity=".988">
            <path
              fill="#02DFEC"
              d="M34.184 0h33.684v17.274H34.184z"
              opacity=".198"
            ></path>
            <path
              fill="#6E95FA"
              d="M.5 2.591h33.684v7.773H.5z"
              opacity=".198"
            ></path>
            <path fill="#02DFEC" d="M34.184 0h33.684v2.591H34.184z"></path>
            <path fill="#6E95FA" d="M.5 2.591h33.684v2.591H.5z"></path>
          </g>
        </svg>
      </div>
      <div class="particles-column particles-column--4">
        <svg
          class="particle particle--7 flip-y particle--top"
          xmlns="http://www.w3.org/2000/svg"
          width="68"
          height="18"
          viewBox="0 0 68 18"
        >
          <g fill="none" fill-rule="evenodd" opacity=".988">
            <path
              fill="#6D94F8"
              d="M34.316.5H.632v17.274h33.684z"
              opacity=".198"
            ></path>
            <path
              fill="#6E95FA"
              d="M68 3.091H34.316v7.773H68z"
              opacity=".198"
            ></path>
            <path fill="#6D94F8" d="M34.316.5H.632v2.591h33.684z"></path>
            <path fill="#6E95FA" d="M68 3.091H34.316v2.591H68z"></path>
          </g>
        </svg>
        <svg
          class="particle particle--8 flip-y particle--bottom"
          xmlns="http://www.w3.org/2000/svg"
          width="68"
          height="18"
          viewBox="0 0 68 18"
        >
          <g fill="none" fill-rule="evenodd" opacity=".988">
            <path
              fill="#F56C89"
              d="M34.316 0H.632v17.274h33.684z"
              opacity=".198"
            ></path>
            <path
              fill="#6E95FA"
              d="M68 2.591H34.316v7.773H68z"
              opacity=".198"
            ></path>
            <path fill="#F56C89" d="M34.316 0H.632v2.591h33.684z"></path>
            <path fill="#6E95FA" d="M68 2.591H34.316v2.591H68z"></path>
          </g>
        </svg>
      </div>
      <div class="particles-column particles-column--5">
        <svg
          class="particle particle--9 particle--top"
          xmlns="http://www.w3.org/2000/svg"
          width="68"
          height="18"
          viewBox="0 0 68 18"
        >
          <g fill="none" fill-rule="evenodd" opacity=".988">
            <path
              fill="#02DFEC"
              d="M33.816 18H.132V.726h33.684z"
              opacity=".198"
            ></path>
            <path
              fill="#6E95FA"
              d="M67.5 15.409H33.816V7.636H67.5z"
              opacity=".198"
            ></path>
            <path fill="#02DFEC" d="M33.816 18H.132v-2.591h33.684z"></path>
            <path fill="#6E95FA" d="M67.5 15.409H33.816v-2.591H67.5z"></path>
          </g>
        </svg>
        <svg
          class="particle particle--10 particle--bottom"
          xmlns="http://www.w3.org/2000/svg"
          width="68"
          height="18"
          viewBox="0 0 68 18"
        >
          <g fill="none" fill-rule="evenodd" opacity=".988">
            <path
              fill="#02DFEC"
              d="M34.184 0h33.684v17.274H34.184z"
              opacity=".198"
            ></path>
            <path
              fill="#6E95FA"
              d="M.5 2.591h33.684v7.773H.5z"
              opacity=".198"
            ></path>
            <path fill="#02DFEC" d="M34.184 0h33.684v2.591H34.184z"></path>
            <path fill="#6E95FA" d="M.5 2.591h33.684v2.591H.5z"></path>
          </g>
        </svg>
      </div>
      <div class="particles-column particles-column--6">
        <svg
          class="particle particle--11 flip-y particle--top"
          xmlns="http://www.w3.org/2000/svg"
          width="68"
          height="18"
          viewBox="0 0 68 18"
        >
          <g fill="none" fill-rule="evenodd" opacity=".988">
            <path
              fill="#02DFEC"
              d="M33.816 18H.132V.726h33.684z"
              opacity=".198"
            ></path>
            <path
              fill="#6E95FA"
              d="M67.5 15.409H33.816V7.636H67.5z"
              opacity=".198"
            ></path>
            <path fill="#02DFEC" d="M33.816 18H.132v-2.591h33.684z"></path>
            <path fill="#6E95FA" d="M67.5 15.409H33.816v-2.591H67.5z"></path>
          </g>
        </svg>
        <svg
          class="particle particle--12 flip-x flip-y particle--bottom"
          xmlns="http://www.w3.org/2000/svg"
          width="68"
          height="18"
          viewBox="0 0 68 18"
        >
          <g fill="none" fill-rule="evenodd" opacity=".988">
            <path
              fill="#F56C89"
              d="M34.184 18h33.684V.726H34.184z"
              opacity=".198"
            ></path>
            <path
              fill="#6E95FA"
              d="M.5 15.409h33.684V7.636H.5z"
              opacity=".198"
            ></path>
            <path fill="#F56C89" d="M34.184 18h33.684v-2.591H34.184z"></path>
            <path fill="#6E95FA" d="M.5 15.409h33.684v-2.591H.5z"></path>
          </g>
        </svg>
      </div>
      <div class="particles-column particles-column--7">
        <svg
          class="particle particle--13 particle--top"
          xmlns="http://www.w3.org/2000/svg"
          width="68"
          height="18"
          viewBox="0 0 68 18"
        >
          <g fill="none" fill-rule="evenodd" opacity=".988">
            <path
              fill="#02DFEC"
              d="M34.184 0h33.684v17.274H34.184z"
              opacity=".198"
            ></path>
            <path
              fill="#6E95FA"
              d="M.5 2.591h33.684v7.773H.5z"
              opacity=".198"
            ></path>
            <path fill="#02DFEC" d="M34.184 0h33.684v2.591H34.184z"></path>
            <path fill="#6E95FA" d="M.5 2.591h33.684v2.591H.5z"></path>
          </g>
        </svg>
        <svg
          class="particle particle--14 particle--bottom"
          xmlns="http://www.w3.org/2000/svg"
          width="68"
          height="18"
          viewBox="0 0 68 18"
        >
          <g fill="none" fill-rule="evenodd" opacity=".988">
            <path
              fill="#F56C89"
              d="M34.316 0H.632v17.274h33.684z"
              opacity=".198"
            ></path>
            <path
              fill="#6E95FA"
              d="M68 2.591H34.316v7.773H68z"
              opacity=".198"
            ></path>
            <path fill="#F56C89" d="M34.316 0H.632v2.591h33.684z"></path>
            <path fill="#6E95FA" d="M68 2.591H34.316v2.591H68z"></path>
          </g>
        </svg>
      </div>
      <div class="particles-column particles-column--8">
        <svg
          class="particle particle--15 flip-x particle--top"
          xmlns="http://www.w3.org/2000/svg"
          width="68"
          height="18"
          viewBox="0 0 68 18"
        >
          <g fill="none" fill-rule="evenodd" opacity=".988">
            <path
              fill="#02DFEC"
              d="M33.816 18H.132V.726h33.684z"
              opacity=".198"
            ></path>
            <path
              fill="#6E95FA"
              d="M67.5 15.409H33.816V7.636H67.5z"
              opacity=".198"
            ></path>
            <path fill="#02DFEC" d="M33.816 18H.132v-2.591h33.684z"></path>
            <path fill="#6E95FA" d="M67.5 15.409H33.816v-2.591H67.5z"></path>
          </g>
        </svg>
        <svg
          class="particle particle--16 flip-y particle--bottom"
          xmlns="http://www.w3.org/2000/svg"
          width="68"
          height="18"
          viewBox="0 0 68 18"
        >
          <g fill="none" fill-rule="evenodd" opacity=".988">
            <path
              fill="#02DFEC"
              d="M33.816 18H.132V.726h33.684z"
              opacity=".198"
            ></path>
            <path
              fill="#6E95FA"
              d="M67.5 15.409H33.816V7.636H67.5z"
              opacity=".198"
            ></path>
            <path fill="#02DFEC" d="M33.816 18H.132v-2.591h33.684z"></path>
            <path fill="#6E95FA" d="M67.5 15.409H33.816v-2.591H67.5z"></path>
          </g>
        </svg>
      </div>
      <div class="particles-column particles-column--9">
        <svg
          class="particle particle--17 flip-y particle--top"
          xmlns="http://www.w3.org/2000/svg"
          width="68"
          height="18"
          viewBox="0 0 68 18"
        >
          <g fill="none" fill-rule="evenodd" opacity=".988">
            <path
              fill="#02DFEC"
              d="M33.816 18H.132V.726h33.684z"
              opacity=".198"
            ></path>
            <path
              fill="#6E95FA"
              d="M67.5 15.409H33.816V7.636H67.5z"
              opacity=".198"
            ></path>
            <path fill="#02DFEC" d="M33.816 18H.132v-2.591h33.684z"></path>
            <path fill="#6E95FA" d="M67.5 15.409H33.816v-2.591H67.5z"></path>
          </g>
        </svg>
        <svg
          class="particle particle--18 flip-x flip-y particle--bottom"
          xmlns="http://www.w3.org/2000/svg"
          width="68"
          height="18"
          viewBox="0 0 68 18"
        >
          <g fill="none" fill-rule="evenodd" opacity=".988">
            <path
              fill="#F56C89"
              d="M34.184 18h33.684V.726H34.184z"
              opacity=".198"
            ></path>
            <path
              fill="#6E95FA"
              d="M.5 15.409h33.684V7.636H.5z"
              opacity=".198"
            ></path>
            <path fill="#F56C89" d="M34.184 18h33.684v-2.591H34.184z"></path>
            <path fill="#6E95FA" d="M.5 15.409h33.684v-2.591H.5z"></path>
          </g>
        </svg>
      </div>
    </div>
    <div
      id="globe"
      ref="globe"
      class="bg-transparent -mt-24 pointer-events-none w-globe h-globe"
    ></div>
    <p
      class="-mt-20 text-center italic text-xs font-semibold relative text-primary-200"
    >
      Fully decentralized.
    </p>
  </div>
</template>

<script>
import Globe from '~/utils/globe'
import RankData from '~/data/rank'

export default {
  mounted() {
    if (process.browser) {
      const isWebglEnabled = require('detector-webgl')

      if (isWebglEnabled) {
        const globe = new Globe(this.$refs.globe)

        globe.addData(RankData, { format: 'magnitude' })
        globe.animate()
        globe.createPoints()

        setTimeout(() => {
          this.$refs.globeParticles.style.opacity = '0.7'
        }, 600)
      } else {
        this.$refs.globe.innerHTML =
          '<img alt="Globe" src="/images/world.png" class="w-88"/>'
      }
    }
  }
}
</script>
